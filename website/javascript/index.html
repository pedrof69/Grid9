<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid9 JavaScript Documentation - Node.js & Browser</title>
    <meta name="description" content="Grid9 JavaScript implementation - Universal coordinate compression for Node.js and browsers. Uniform 3-meter precision with TypeScript support.">
    
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #f7df1e 0%, #f0db4f 100%);
            color: #333;
            padding: 2rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
            color: #333;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.7;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .content {
            background: white;
            margin: 2rem auto;
            padding: 3rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        h1 {
            color: #2d3748;
            margin-bottom: 1.5rem;
            font-size: 2.5rem;
        }

        h2 {
            color: #2d3748;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        h3 {
            color: #4a5568;
            margin-top: 2rem;
            margin-bottom: 0.8rem;
            font-size: 1.4rem;
        }

        p {
            margin-bottom: 1rem;
            color: #4a5568;
        }

        code {
            background: #f7fafc;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: #f7fafc;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .feature-card h4 {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            text-decoration: none;
            transition: all 0.3s;
            margin-right: 1rem;
            margin-top: 1rem;
        }

        .btn-primary {
            background: #f7df1e;
            color: #333;
            font-weight: 600;
        }

        .btn-primary:hover {
            background: #f0db4f;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: #718096;
            color: white;
        }

        .btn-secondary:hover {
            background: #4a5568;
            transform: translateY(-1px);
        }

        .highlight {
            background: #fef5e7;
            padding: 1rem;
            border-left: 4px solid #f39c12;
            margin: 1rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: #f7fafc;
            font-weight: 600;
            color: #2d3748;
        }

        .footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 4rem;
        }

        .footer a {
            color: #e2e8f0;
            text-decoration: none;
        }

        .footer a:hover {
            color: white;
        }

        .badge {
            display: inline-block;
            padding: 0.3rem 0.6rem;
            background: #4caf50;
            color: white;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 2rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <a href="../" class="logo">
                <svg width="30" height="30" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <g transform="translate(20, 20)" opacity="0.9">
                        <rect x="0" y="0" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="22" y="0" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="44" y="0" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="0" y="22" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="22" y="22" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="44" y="22" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="0" y="44" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="22" y="44" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <rect x="44" y="44" width="16" height="16" fill="#333" rx="2" opacity="0.3"/>
                        <text x="30" y="52" font-family="Arial, sans-serif" font-size="48" font-weight="bold" text-anchor="middle" fill="#333">9</text>
                    </g>
                </svg>
                Grid9
            </a>
            <ul class="nav-links">
                <li><a href="../">Home</a></li>
                <li><a href="../#languages">Languages</a></li>
                <li><a href="../#demo">Demo</a></li>
                <li><a href="https://github.com/pedrof69/Grid9">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <div class="content">
            <h1>Grid9 JavaScript Implementation</h1>
            
            <p>The JavaScript implementation of Grid9 provides universal coordinate compression for both Node.js and browser environments. With <strong>full TypeScript support</strong> and comprehensive test coverage, it's perfect for web applications, Node.js servers, and cross-platform development.</p>

            <div class="highlight">
                <strong>Key Features:</strong> Works in Node.js & browsers • TypeScript definitions included • CommonJS & ES6 modules • Zero dependencies • Comprehensive test suite
            </div>

            <h2>Installation</h2>

            <h3>NPM Package</h3>
            <pre><code># Install with npm
npm install grid9

# Install with yarn
yarn add grid9

# Install with pnpm
pnpm add grid9</code></pre>

            <h3>Browser Usage</h3>
            <pre><code>&lt;!-- Via CDN --&gt;
&lt;script src="https://unpkg.com/grid9/dist/grid9.min.js"&gt;&lt;/script&gt;

&lt;!-- Or download and host locally --&gt;
&lt;script src="./grid9.min.js"&gt;&lt;/script&gt;</code></pre>

            <h3>From Source</h3>
            <pre><code>git clone https://github.com/pedrof69/Grid9.git
cd Grid9/javascript
npm install
npm run build</code></pre>

            <h2>Quick Start</h2>

            <h3>Node.js (CommonJS)</h3>
            <pre><code>const Grid9 = require('grid9');

// Encode coordinates to Grid9 code
const code = Grid9.encode(40.7128, -74.0060);
// Result: "Q7KH2BBYF"

// Decode Grid9 code to coordinates
const coords = Grid9.decode("Q7KH2BBYF");
// Result: { latitude: 40.712779, longitude: -74.005988 }

// Human-readable format
const readable = Grid9.encode(40.7128, -74.0060, true);
// Result: "Q7K-H2B-BYF"</code></pre>

            <h3>ES6 Modules</h3>
            <pre><code>import { encode, decode, calculateDistance } from 'grid9';

// Encode coordinates
const code = encode(40.7128, -74.0060);

// Calculate distance between two locations
const nyc = encode(40.7128, -74.0060);
const london = encode(51.5074, -0.1278);
const distance = calculateDistance(nyc, london);
// Result: 5570224 meters</code></pre>

            <h3>TypeScript</h3>
            <pre><code>import { UniformPrecisionCoordinateCompressor } from 'grid9';

// TypeScript types are included
const encoder = new UniformPrecisionCoordinateCompressor();

// Encode with type safety
const code: string = encoder.encode(40.7128, -74.0060);

// Decode returns typed coordinates
const coords: { latitude: number; longitude: number } = encoder.decode(code);</code></pre>

            <h3>Browser Usage</h3>
            <pre><code>&lt;script&gt;
// Grid9 is available as a global variable
const code = Grid9.encode(40.7128, -74.0060);
console.log(code); // "Q7KH2BBYF"

// Use in your web app
function shareLocation() {
    navigator.geolocation.getCurrentPosition(position => {
        const code = Grid9.encode(
            position.coords.latitude,
            position.coords.longitude,
            true // human-readable
        );
        document.getElementById('location-code').textContent = code;
    });
}
&lt;/script&gt;</code></pre>

            <h2>API Reference</h2>

            <h3>Core Functions</h3>
            
            <table>
                <tr>
                    <th>Function</th>
                    <th>Description</th>
                    <th>Returns</th>
                </tr>
                <tr>
                    <td><code>encode(lat, lon, humanReadable?)</code></td>
                    <td>Encode coordinates to Grid9 code</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td><code>decode(code)</code></td>
                    <td>Decode Grid9 code to coordinates</td>
                    <td>{latitude, longitude}</td>
                </tr>
                <tr>
                    <td><code>calculateDistance(code1, code2)</code></td>
                    <td>Calculate distance in meters</td>
                    <td>number</td>
                </tr>
                <tr>
                    <td><code>getNeighbors(code)</code></td>
                    <td>Get adjacent Grid9 codes</td>
                    <td>string[]</td>
                </tr>
                <tr>
                    <td><code>isValid(code)</code></td>
                    <td>Validate Grid9 code format</td>
                    <td>boolean</td>
                </tr>
                <tr>
                    <td><code>getPrecision(lat, lon)</code></td>
                    <td>Get precision at coordinates</td>
                    <td>{x, y, total}</td>
                </tr>
            </table>

            <h3>Batch Operations</h3>
            
            <pre><code>const CoordinateOperations = require('grid9/operations');

// Batch encode multiple coordinates
const locations = [
    { lat: 40.7128, lon: -74.0060 },  // NYC
    { lat: 51.5074, lon: -0.1278 },   // London
    { lat: 35.6762, lon: 139.6503 }   // Tokyo
];

const codes = CoordinateOperations.batchEncode(locations);
// Result: ["Q7KH2BBYF", "S50MBZX2Y", "PAYMZ39T7"]

// Find nearby locations
const nearby = CoordinateOperations.findNearby(40.7128, -74.0060, 1000);
// Returns all Grid9 codes within 1km radius</code></pre>

            <h2>Advanced Features</h2>

            <h3>React Integration</h3>
            <pre><code>import React, { useState } from 'react';
import { encode, decode } from 'grid9';

function LocationSharing() {
    const [code, setCode] = useState('');
    
    const shareCurrentLocation = () => {
        navigator.geolocation.getCurrentPosition(position => {
            const grid9Code = encode(
                position.coords.latitude,
                position.coords.longitude,
                true
            );
            setCode(grid9Code);
        });
    };
    
    return (
        &lt;div&gt;
            &lt;button onClick={shareCurrentLocation}&gt;
                Share Location
            &lt;/button&gt;
            {code && &lt;p&gt;Your location: {code}&lt;/p&gt;}
        &lt;/div&gt;
    );
}</code></pre>

            <h3>Express.js API</h3>
            <pre><code>const express = require('express');
const Grid9 = require('grid9');

const app = express();
app.use(express.json());

app.post('/api/encode', (req, res) => {
    try {
        const { latitude, longitude } = req.body;
        const code = Grid9.encode(latitude, longitude);
        res.json({ grid9: code });
    } catch (error) {
        res.status(400).json({ error: error.message });
    }
});

app.get('/api/decode/:code', (req, res) => {
    try {
        const coords = Grid9.decode(req.params.code);
        res.json(coords);
    } catch (error) {
        res.status(400).json({ error: 'Invalid Grid9 code' });
    }
});</code></pre>

            <h3>Geolocation Utilities</h3>
            <pre><code>// Calculate bearing between two locations
function getBearing(code1, code2) {
    const coord1 = Grid9.decode(code1);
    const coord2 = Grid9.decode(code2);
    
    const dLon = (coord2.longitude - coord1.longitude) * Math.PI / 180;
    const lat1 = coord1.latitude * Math.PI / 180;
    const lat2 = coord2.latitude * Math.PI / 180;
    
    const y = Math.sin(dLon) * Math.cos(lat2);
    const x = Math.cos(lat1) * Math.sin(lat2) -
              Math.sin(lat1) * Math.cos(lat2) * Math.cos(dLon);
    
    const bearing = Math.atan2(y, x) * 180 / Math.PI;
    return (bearing + 360) % 360;
}</code></pre>

            <h2>Performance</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Encoding Speed</h4>
                    <p>5.2M+ operations/second</p>
                </div>
                <div class="feature-card">
                    <h4>Decoding Speed</h4>
                    <p>5.8M+ operations/second</p>
                </div>
                <div class="feature-card">
                    <h4>Bundle Size</h4>
                    <p>4.2KB minified + gzipped</p>
                </div>
            </div>

            <h2>Testing</h2>
            <pre><code># Run all tests
npm test

# Run tests in watch mode
npm run test:watch

# Generate coverage report
npm run test:coverage

# Run linting
npm run lint</code></pre>

            <h2>Browser Compatibility</h2>
            <ul>
                <li>Chrome 60+ <span class="badge">✓</span></li>
                <li>Firefox 55+ <span class="badge">✓</span></li>
                <li>Safari 11+ <span class="badge">✓</span></li>
                <li>Edge 79+ <span class="badge">✓</span></li>
                <li>Node.js 14+ <span class="badge">✓</span></li>
            </ul>

            <h2>TypeScript Support</h2>
            <p>Grid9 includes comprehensive TypeScript definitions:</p>
            <pre><code>// Type definitions are automatically included
import { Grid9Code, Coordinates, PrecisionInfo } from 'grid9/types';

// Use typed interfaces
function processLocation(coords: Coordinates): Grid9Code {
    return encode(coords.latitude, coords.longitude);
}

// Type-safe precision information
const precision: PrecisionInfo = getPrecision(40.7128, -74.0060);
console.log(`Precision: ${precision.total}m`);</code></pre>

            <h2>Common Use Cases</h2>

            <h3>Location Sharing App</h3>
            <pre><code>// Generate shareable location links
function createLocationLink(latitude, longitude) {
    const code = Grid9.encode(latitude, longitude, true);
    return `https://yourapp.com/location/${code}`;
}

// Parse location from URL
function parseLocationLink(url) {
    const code = url.split('/').pop();
    if (Grid9.isValid(code)) {
        return Grid9.decode(code);
    }
    throw new Error('Invalid location code');
}</code></pre>

            <h3>Geofencing</h3>
            <pre><code>// Check if location is within radius
function isWithinRadius(centerCode, checkCode, radiusMeters) {
    const distance = Grid9.calculateDistance(centerCode, checkCode);
    return distance <= radiusMeters;
}

// Monitor location changes
function monitorLocation(targetCode, callback) {
    navigator.geolocation.watchPosition(position => {
        const currentCode = Grid9.encode(
            position.coords.latitude,
            position.coords.longitude
        );
        const distance = Grid9.calculateDistance(targetCode, currentCode);
        callback(currentCode, distance);
    });
}</code></pre>

            <div class="highlight">
                <p><strong>Need help?</strong> Check out the <a href="https://github.com/pedrof69/Grid9/tree/master/javascript">full source code and examples</a> on GitHub or <a href="https://github.com/pedrof69/Grid9/issues">open an issue</a>.</p>
            </div>

            <a href="https://github.com/pedrof69/Grid9/tree/master/javascript" class="btn btn-primary">View on GitHub</a>
            <a href="../" class="btn btn-secondary">Back to Home</a>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Grid9. MIT Licensed. <a href="https://github.com/pedrof69/Grid9">GitHub</a></p>
        </div>
    </footer>
</body>
</html>